"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const airtable_1 = __importDefault(require("airtable"));
const Env_1 = __importDefault(global[Symbol.for('ioc.use')]("Adonis/Core/Env"));
const base = new airtable_1.default({ apiKey: Env_1.default.get('AIRTABLE_KEY') }).base(Env_1.default.get('AIRTABLE_BASE'));
class AirtableApi {
    async handle(ctx, next) {
        ctx.airtableBase = base;
        await next();
    }
}
exports.default = AirtableApi;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQWlydGFibGVBcGkuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJBaXJ0YWJsZUFwaS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUNBLHdEQUErQjtBQUMvQixnRkFBc0M7QUFFdEMsTUFBTSxJQUFJLEdBQUcsSUFBSSxrQkFBUSxDQUFDLEVBQUUsTUFBTSxFQUFFLGFBQUcsQ0FBQyxHQUFHLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxhQUFHLENBQUMsR0FBRyxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUE7QUFFN0YsTUFBcUIsV0FBVztJQUN2QixLQUFLLENBQUMsTUFBTSxDQUFDLEdBQXdCLEVBQUUsSUFBeUI7UUFDckUsR0FBRyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUE7UUFHdkIsTUFBTSxJQUFJLEVBQUUsQ0FBQTtJQUNkLENBQUM7Q0FDRjtBQVBELDhCQU9DIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXG5pbXBvcnQgQWlydGFibGUgZnJvbSAnYWlydGFibGUnXG5pbXBvcnQgRW52IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvRW52J1xuXG5jb25zdCBiYXNlID0gbmV3IEFpcnRhYmxlKHsgYXBpS2V5OiBFbnYuZ2V0KCdBSVJUQUJMRV9LRVknKSB9KS5iYXNlKEVudi5nZXQoJ0FJUlRBQkxFX0JBU0UnKSlcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWlydGFibGVBcGkge1xuICBwdWJsaWMgYXN5bmMgaGFuZGxlKGN0eDogSHR0cENvbnRleHRDb250cmFjdCwgbmV4dDogKCkgPT4gUHJvbWlzZTx2b2lkPikge1xuICAgIGN0eC5haXJ0YWJsZUJhc2UgPSBiYXNlXG5cbiAgICAvLyBOZXh0IGNhbGwgaXMgYWx3YXlzIGxhc3RcbiAgICBhd2FpdCBuZXh0KClcbiAgfVxufVxuIl19